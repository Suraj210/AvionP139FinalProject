@model List<ReviewVM>
@{
    ViewData["Title"] = "Index";
}

<div class="container mt-5">
	<h1 class="text-center mt-3 mb-3">Reviews</h1>
	<div class="table-responsive">
		@if (Model.Count != 0)
		{
			<table class="table table-striped">
				<thead>
					<tr>

						<th>
							Name
						</th>

						<th>
							Email
						</th>
						<th>
							Title
						</th>
						<th>
							Message
						</th>

						<th>
							Created Date
						</th>
						<th>
							Operations
						</th>

					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model)
					{
						<tr>
							<td style="white-space:normal">
								@item.Name
							</td>
							<td class="py-1">
								@item.Email

							</td>

							<td style="white-space:normal">
								@item.Title

							</td>
							<td style="white-space:normal">
								@item.Message?.Substring(0, (int)Math.Ceiling(item.Message.Length * 0.1))...
							</td>

							<th>
								@item.CreateTime.ToString("dd/MM/yyyy")
							</th>
							<td>
								<a class="btn btn-outline-info " asp-action="Detail" asp-route-id="@item.Id"><i class="fa-solid fa-circle-info"></i></a>


								<form class="d-inline-block" method="post">
									<button type="submit" class="btn btn-outline-danger" asp-action="Delete" asp-route-id="@item.Id"><i class="fa-solid fa-trash"></i></button>
								</form>

						</tr>
					}
				</tbody>
			</table>
		}
		else
		{
			<h4 style="text-align:center;margin-top:4rem">There's no review</h4>
		}

	</div>
</div>

